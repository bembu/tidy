{% from "macros.html" import admin_button with context %}

{% extends "base.html" %}

{% block content %}

<div class="row">
  <div class="col-sm-12">
    <h1>The Admin Panel</h1>
  </div>

  <div class="divider">
    <div class="col-sm-12"><hr></div>
  </div>
</div>

<div class="row">

  <div class="col-sm-4">
    <div class="list-group">

      <h4 class="list-group-item-heading">Manage posts:</h4>

      {% for post in posts %}

      <a href="{{ url_for("posts", slug=post.slug) }}" class="list-group-item">
        {{ admin_button(post.slug, 'remove-post') }}
        {{ post.title }}
        <span class="text-muted"> by {{ get_username(post.user_id) }}</span>
      </a>

      {% endfor %}

    </div>
  </div>

  <div class="col-sm-4">
    <div class="list-group">

    <h4 class="list-group-item-heading">Manage users:</h4>

      {% for user in users %}

    <a href="#" class="list-group-item">
      {{ admin_button(user, 'remove-user') }}
      {{ admin_button(user, 'toggle-admin') }}

      {{ user.username }}
      &nbsp;<span  class="{% if user.role == 1 %}glyphicon glyphicon-eye-open{% endif %} role-icon"></span>
    </a>

    {% endfor %}

  </div>
</div>

</div>

{% endblock %}
